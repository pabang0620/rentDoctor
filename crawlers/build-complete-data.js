/**
 * 완전한 법령/실무 데이터 구축
 * - 전세사기특별법 핵심 조문 직접 작성
 * - 추가 법률 범위 확장 (형법, 민사집행법, 실무정보)
 * - 크롤링 오류 데이터 정제
 */
import { readFileSync, writeFileSync } from 'fs'
import { fileURLToPath } from 'url'
import { dirname, join } from 'path'

const __dirname = dirname(fileURLToPath(import.meta.url))
const backendData = join(__dirname, '../backend/src/data')

// ============================================================
// 전세사기특별법 핵심 조문 (법령 원문 기반 직접 작성)
// ============================================================
const SPECIAL_ACT_ARTICLES = [
  {
    number: '제1조', title: '목적',
    content: '이 법은 전세사기로 피해를 입은 임차인에게 경ㆍ공매 절차 및 조세 징수 등에 관한 특례를 부여함으로써 전세사기피해자를 지원하고 주거안정을 도모함을 목적으로 한다.',
    description: '전세사기피해자를 지원하고 주거안정을 도모하기 위한 법의 목적입니다.'
  },
  {
    number: '제2조', title: '정의',
    content: '1."주택"이란 주거용 건물(공부상 주거용이 아니라도 실질이 주거용이면 포함). 2."임대인등"이란 임대인, 대리인, 공인중개사, 배후 동일인 등. 3."전세사기피해자"란 제3조 요건을 갖추고 위원회 심의를 거쳐 국토교통부장관이 결정한 임차인. 4."전세사기피해자등"이란 전세사기피해자 및 일부 요건 충족자.',
    description: '전세사기피해자, 임대인등, 주택 등 핵심 용어를 정의합니다. 배후 조종자도 임대인등에 포함됩니다.'
  },
  {
    number: '제3조', title: '전세사기피해자의 요건',
    content: '① 전세사기피해자 인정을 받으려는 임차인은 다음 요건을 모두 갖추어야 한다. 1. 임대인등이 임차인에게 보증금을 반환할 능력이 없음에도 임차인을 기망하거나 편취한 경우. 2. 임차주택에 대한 경매 또는 공매 절차가 진행 중이거나 진행 우려가 있는 경우. 3. 보증금 전부를 반환받지 못할 우려가 있는 경우. 4. 임차인이 선의이며 과실이 없을 것. ② 다음 각 호에 해당하는 경우는 제외: 1. 임차인이 임대인에게 보증금 반환을 강요하거나 협박한 경우. 2. 임차인이 고의·중과실로 피해 발생을 초래한 경우.',
    description: '전세사기피해자 인정 4대 요건: ①임대인의 기망·편취(사기의도), ②경공매 진행 중 또는 우려, ③보증금 미반환 우려, ④임차인이 선의·무과실.'
  },
  {
    number: '제4조', title: '임차인보호대책의 수립',
    content: '국가 및 지방자치단체는 전세사기피해자등에 대한 지원을 위하여 다음 각 호의 보호대책을 수립하여야 한다. 1. 전세사기 예방을 위한 교육 및 홍보. 2. 전세사기 피해 상담 및 법률지원. 3. 피해자의 주거 안정 및 생활 지원. 4. 전세사기 피해 현황 조사 및 분석.',
    description: '국가·지방자치단체의 전세사기 피해자 보호대책 수립 의무를 규정합니다.'
  },
  {
    number: '제5조', title: '다른 법률과의 관계',
    content: '이 법은 전세사기피해자등의 피해 및 주거안정 지원에 관하여 다른 법률에 우선하여 적용한다.',
    description: '이 법은 주택임대차보호법, 민사집행법 등 다른 법률보다 우선 적용됩니다.'
  },
  {
    number: '제6조', title: '전세사기피해지원위원회',
    content: '① 전세사기피해자등 결정에 관한 심의와 중요 사항을 심의하기 위하여 국토교통부에 전세사기피해지원위원회를 설치한다. ② 위원회는 위원장 1명과 부위원장 1명을 포함한 20명 이내의 위원으로 구성한다. ③ 위원장은 국토교통부 제1차관이 된다.',
    description: '국토교통부 내에 전세사기피해지원위원회를 설치하여 피해자 결정을 심의합니다.'
  },
  {
    number: '제11조', title: '전세피해지원센터',
    content: '① 다음 각 호의 자는 전세사기피해자등에 대하여 법률상담, 심리지원, 복지 연계 등 종합 서비스를 제공하기 위하여 전세피해지원센터를 설치·운영할 수 있다. 1. 지방자치단체장. 2. 대한법률구조공단. 3. 한국토지주택공사(LH). ② 전세피해지원센터는 피해자 신청 접수, 피해조사, 각종 지원 연계를 원스톱으로 제공한다.',
    description: '지자체, 법률구조공단, LH가 운영하는 원스톱 지원 센터입니다. 법률상담, 심리지원, 복지연계 서비스 제공.'
  },
  {
    number: '제12조', title: '임차인의 신청',
    content: '① 전세사기피해자등 결정을 받으려는 임차인은 국토교통부장관에게 신청하여야 한다. ② 신청 시 제출 서류: 임대차계약서, 등기부등본, 확정일자 증명, 전입세대 열람, 그 밖의 피해 사실 입증 서류.',
    description: '피해자 인정 신청은 국토교통부장관에게. 임대차계약서, 등기부등본, 확정일자 증명 등 서류 필요.'
  },
  {
    number: '제14조', title: '전세사기피해자등 결정',
    content: '① 국토교통부장관은 신청을 받은 날부터 30일 이내에 위원회의 심의·의결을 거쳐 전세사기피해자등으로 결정하거나 부결한다. ② 결정 시 피해자에게 결정서를 교부한다. ③ 부결된 경우 그 이유를 통지한다. ④ 피해자등으로 결정된 날부터 3년의 유효기간 내에 각종 지원을 받을 수 있다.',
    description: '신청 후 30일 이내 위원회 심의로 결정. 결정일부터 3년간 각종 지원 혜택을 받을 수 있습니다.'
  },
  {
    number: '제15조', title: '이의신청',
    content: '① 결정에 이의가 있는 신청인은 결정을 송달받은 날부터 30일 이내에 국토교통부장관에게 이의신청을 할 수 있다. ② 국토교통부장관은 이의신청을 받은 날부터 30일 이내에 위원회의 심의를 거쳐 재결정한다.',
    description: '결정 통보 후 30일 이내 이의신청 가능. 재결정까지 30일 소요.'
  },
  {
    number: '제17조', title: '경매의 유예·정지',
    content: '① 전세사기피해자등으로 결정된 임차인은 임차주택에 대한 경매절차의 유예·정지를 신청할 수 있다. ② 법원은 피해자 결정서를 제출한 임차인의 신청이 있으면 경매절차를 1년 이내의 범위에서 유예 또는 정지할 수 있다. ③ 필요한 경우 1년을 초과하지 않는 범위에서 연장 가능.',
    description: '피해자로 결정되면 경매·공매 절차를 최대 1년(연장 가능) 유예·정지 신청 가능. 거주권 보호.'
  },
  {
    number: '제18조', title: '국세의 체납으로 인한 공매에서의 특례',
    content: '① 국세 체납으로 임차주택이 공매되는 경우, 피해자등인 임차인은 공매 진행 기관에 배분금액 지급 유예를 신청할 수 있다. ② 한국자산관리공사는 유예 신청이 있으면 일정 기간 배분을 유예할 수 있다.',
    description: '국세 체납 공매 시 피해자에게 배분금 지급 유예 특례를 부여합니다.'
  },
  {
    number: '제19조', title: '지방세의 체납으로 인한 공매에서의 특례',
    content: '① 지방세 체납으로 임차주택이 공매되는 경우, 피해자등인 임차인은 지방자치단체장에게 공매 배분금 지급 유예를 신청할 수 있다.',
    description: '지방세 체납 공매 시 피해자에게 배분금 지급 유예 특례를 부여합니다.'
  },
  {
    number: '제20조', title: '경매절차에서의 우선매수권',
    content: '① 피해자등으로 결정된 임차인은 임차주택이 경매로 매각되는 경우 해당 경매의 최고가 매수신고 가격으로 우선하여 매수할 수 있는 우선매수권을 가진다. ② 우선매수권자는 낙찰기일에 법원에 우선매수를 신고하여야 한다. ③ 우선매수를 원하지 않는 경우 한국토지주택공사(LH)에 우선매수를 의뢰할 수 있다.',
    description: '경매에서 피해자는 최고가 낙찰가로 본인 집을 우선 매수 가능. LH에 매수 의뢰도 가능. 낙찰기일에 법원에 신고 필요.'
  },
  {
    number: '제21조', title: '「국세징수법」에 따른 공매절차에서의 우선매수권',
    content: '국세징수법에 따른 공매에서도 피해자는 제20조와 동일한 우선매수권을 가진다. 한국자산관리공사(캠코) 주관 공매에서 적용된다.',
    description: '캠코(한국자산관리공사) 주관 국세 체납 공매에서도 동일한 우선매수권 적용.'
  },
  {
    number: '제22조', title: '「지방세징수법」에 따른 공매절차에서의 우선매수권',
    content: '지방세징수법에 따른 공매에서도 피해자는 우선매수권을 가진다. 지방자치단체 주관 공매에서 적용된다.',
    description: '지자체 주관 지방세 체납 공매에서도 동일한 우선매수권 적용.'
  },
  {
    number: '제23조', title: '국세의 우선 징수 특례',
    content: '전세사기피해자등의 임대차보증금반환채권은 임차주택에 대한 국세보다 우선하여 변제받을 수 있다. 단, 법정요건(전입신고, 확정일자 등)을 갖춘 경우에 한한다.',
    description: '피해자의 보증금 채권은 국세보다 우선하여 변제받을 수 있습니다(확정일자 필수).'
  },
  {
    number: '제24조', title: '지방세의 우선 징수 특례',
    content: '전세사기피해자등의 임대차보증금반환채권은 임차주택에 대한 지방세보다 우선하여 변제받을 수 있다.',
    description: '피해자의 보증금 채권은 지방세보다 우선하여 변제받을 수 있습니다.'
  },
  {
    number: '제25조', title: '공공주택사업자의 주택 취득 및 임대',
    content: '① 한국토지주택공사(LH), 지방공사 등 공공주택사업자는 피해자가 우선매수권을 포기한 경우 해당 주택을 경공매로 취득할 수 있다. ② 공공주택사업자는 취득한 주택을 피해자에게 공공임대주택으로 공급하여야 한다. ③ 공공임대 임대료는 시장 임대료의 50~80% 수준으로 책정한다.',
    description: 'LH 등이 경공매로 주택 취득 후 피해자에게 시장가 50~80% 수준의 공공임대로 제공합니다.'
  },
  {
    number: '제25조의2', title: '공공임대주택 입주자격 특례',
    content: '전세사기피해자등은 공공임대주택 입주 시 소득·자산 기준 등 입주자격 요건을 완화 적용받을 수 있다. LH 공공임대 우선 입주가 가능하다.',
    description: '피해자는 소득·자산 요건을 완화하여 LH 공공임대에 우선 입주 가능합니다.'
  },
  {
    number: '제26조', title: '경매 및 공매의 감정평가 비용 지원',
    content: '국가 및 지방자치단체는 전세사기피해자등이 경매·공매 절차에서 감정평가를 신청하는 경우 그 비용의 전부 또는 일부를 지원할 수 있다.',
    description: '피해자가 경공매 시 감정평가 비용을 국가·지자체에서 지원합니다.'
  },
  {
    number: '제27조', title: '금융지원 등',
    content: '① 국가 및 지방자치단체는 피해자의 주거안정을 위하여 다음의 금융지원을 할 수 있다. 1. 주택도시기금을 통한 저리 융자(전세피해 임차인 대출: 연 1~2% 수준, 최대 2억 4천만원). 2. HUG·한국주택금융공사를 통한 보증 지원. 3. 이자 감면. ② 한국주택금융공사는 피해자에게 전세대출 보증을 우선 제공한다.',
    description: '저리 융자(연 1~2%, 최대 2억4천만원), HUG 보증 지원, 이자 감면 등 금융지원을 받을 수 있습니다.'
  },
  {
    number: '제28조', title: '「긴급복지지원법」에 따른 지원',
    content: '국가 및 지방자치단체는 피해자 중 생계가 어려운 자에 대하여 긴급복지지원법에 따른 긴급지원을 하여야 한다. 지원 항목: 생계급여, 의료지원, 주거지원, 사회복지 서비스 연계 등.',
    description: '생계위기 피해자는 긴급복지지원법에 따라 생계비, 의료비, 주거비 등 긴급복지지원을 받을 수 있습니다.'
  },
  {
    number: '제33조', title: '벌칙',
    content: '① 다음 각 호에 해당하는 자는 5년 이하의 징역 또는 5천만원 이하의 벌금에 처한다. 1. 거짓이나 부정한 방법으로 피해자 결정을 받은 자. 2. 비밀 누설 등.',
    description: '거짓으로 피해자 결정을 받는 경우 5년 이하 징역 또는 5천만원 이하 벌금.'
  },
  {
    number: '제34조', title: '과태료',
    content: '자료 제출 거부, 기피, 방해 등의 경우 500만원 이하의 과태료를 부과한다.',
    description: '자료 제출 거부 등의 경우 500만원 이하 과태료.'
  }
]

// ============================================================
// 추가 법률 정보 (형법, 민사집행법 관련 실무)
// ============================================================
const ADDITIONAL_LAWS = [
  {
    id: 'criminal-fraud-act',
    name: '형법 사기죄 (전세사기 고소 관련)',
    shortName: '형법 제347조',
    keywords: ['사기죄', '형사고소', '기망', '편취', '형사처벌', '수사', '경찰고소'],
    articles: [
      {
        number: '제347조', title: '사기',
        content: '① 사람을 기망하여 재물의 교부를 받거나 재산상의 이익을 취득한 자는 10년 이하의 징역 또는 2천만원 이하의 벌금에 처한다. ② 전항의 방법으로 제삼자로 하여금 재물의 교부를 받게 하거나 재산상의 이익을 취득하게 한 경우에도 전항의 형과 같다.',
        description: '전세사기는 사기죄에 해당할 수 있습니다. 10년 이하 징역 또는 2천만원 이하 벌금. 경찰에 형사고소 가능.'
      },
      {
        number: '제355조', title: '횡령, 배임',
        content: '① 타인의 재물을 보관하는 자가 그 재물을 횡령하거나 반환을 거부한 때에는 5년 이하의 징역 또는 1천500만원 이하의 벌금에 처한다.',
        description: '집주인이 보증금 반환을 고의로 거부하는 경우 횡령죄 적용 가능 검토.'
      }
    ]
  },
  {
    id: 'civil-execution-act',
    name: '민사집행법 (경매·배당 관련)',
    shortName: '민사집행법',
    keywords: ['경매', '배당', '배당요구', '경매신청', '낙찰', '명도', '집행권원'],
    articles: [
      {
        number: '제88조', title: '배당요구',
        content: '배당요구의 종기까지 배당요구를 한 채권자에 대하여만 배당을 실시한다. 배당요구 종기는 경매개시결정 후 법원이 정하며, 임차인은 반드시 배당요구를 해야 한다.',
        description: '경매 시 배당을 받으려면 배당요구 종기 전에 반드시 배당요구를 신청해야 합니다. 누락 시 배당 불가.'
      },
      {
        number: '제91조', title: '인수주의와 소멸주의의 구분',
        content: '① 압류채권자보다 우선하는 채권, 최선순위 담보물권보다 선순위 임차권은 경락인에게 인수된다. ② 그 밖의 채권은 경락으로 소멸한다.',
        description: '경매 낙찰 시 선순위 임차권은 낙찰자에게 인수됩니다. 배당순위와 낙찰 후 처리 방식이 결정됩니다.'
      },
      {
        number: '제145조', title: '배당의 실시',
        content: '법원은 배당기일에 출석한 이해관계인과 배당요구를 한 채권자 간에 다음 순위에 따라 배당을 실시한다. 1순위: 집행비용, 2순위: 최우선변제 소액임차인, 3순위: 당해세, 4순위: 확정일자 임차인 및 담보물권자(등기일자 순), 5순위: 일반채권자.',
        description: '경매 배당 순위: ①집행비용 ②소액임차인 최우선변제 ③당해세 ④확정일자임차인/담보권자 ⑤일반채권자. 확정일자와 전입신고 날짜가 중요!'
      }
    ]
  },
  {
    id: 'practical-guide',
    name: '전세사기 피해 대응 실무 가이드',
    shortName: '실무가이드',
    keywords: ['대응방법', '절차', '서류', '신청방법', '내용증명', '가압류', '법률구조공단', 'HUG청구', '임차권등기신청서류'],
    articles: [
      {
        number: '실무-01', title: '즉시 해야 할 일 (우선순위)',
        content: '1순위: 임차권등기명령 신청(이사 전 필수! 이사 후엔 대항력 상실). 2순위: 배당요구(경매 개시 시 배당요구 종기 전 신청). 3순위: 대한법률구조공단(132) 무료 상담. 4순위: 전세사기피해지원센터(1533-2020) 신청. 5순위: HUG 보증보험 가입자는 HUG(1566-9009)에 보험금 청구.',
        description: '즉시 해야 할 일 순서: ①임차권등기명령 ②배당요구 ③법률구조공단 상담 ④지원센터 신청 ⑤HUG 보험금 청구'
      },
      {
        number: '실무-02', title: '임차권등기명령 신청 방법',
        content: '신청처: 임차주택 소재지 관할 지방법원. 신청 서류: 임차권등기명령신청서, 임대차계약서 사본, 등기부등본, 주민등록등본(전입 확인), 확정일자 증명(임대차계약서에 확인인 있으면 가능). 비용: 인지 1,000원 + 송달료 약 5,200원. 효과: 이사 후에도 대항력과 우선변제권 유지.',
        description: '임차권등기명령 신청: 관할 지방법원에 계약서, 등기부등본, 주민등록등본 제출. 인지 1,000원. 이사 전 신청 필수!'
      },
      {
        number: '실무-03', title: 'HUG 전세보증보험 보험금 청구',
        content: '청구 조건: ①계약 만료일로부터 1개월 경과 후에도 반환 안 된 경우, ②경매·공매 개시 통보받은 경우. 청구 기한: 사고 발생일로부터 3년 이내. 제출 서류: 보증보험증서, 임대차계약서, 내용증명(반환 요청), 주민등록 등본, 통장 사본. 처리 기간: 영업일 기준 2~4주. HUG 연락처: 1566-9009.',
        description: 'HUG 보증보험 청구: 만료 후 1개월 경과 또는 경매 개시 시 청구 가능. 3년 내 청구. 처리 2~4주. 1566-9009.'
      },
      {
        number: '실무-04', title: '내용증명 발송 방법',
        content: '내용증명은 우체국에서 발송하며, 발송 사실과 내용이 법적으로 증명됩니다. 내용: 보증금 반환 요청, 반환 기한, 미반환 시 법적 조치 예고. 발송 방법: 내용증명 3부 작성 → 우체국 방문 또는 인터넷 우체국(epost.go.kr). 효과: 소멸시효 중단, 계약 해지 의사 표시 증거.',
        description: '내용증명: 우체국에서 3부 작성 발송. 소멸시효 중단 효과. 인터넷 우체국(epost.go.kr)에서도 발송 가능.'
      },
      {
        number: '실무-05', title: '보증금 반환 소송 절차',
        content: '소액(3,000만원 이하): 소액사건심판 (법원 방문, 구술 신청 가능). 일반: 민사 보증금반환청구소송. 법률구조공단 이용 시 무료 소송 가능 (소득 기준 충족 시). 소송 후 판결이 나오면 집행권원으로 경매 신청 또는 채권 압류 가능.',
        description: '3,000만원 이하: 소액사건심판으로 빠른 처리. 이상은 민사소송. 법률구조공단 이용 시 무료 소송 가능.'
      },
      {
        number: '실무-06', title: '형사고소 방법 (전세사기)',
        content: '고소처: 임차주택 또는 임대인 주소지 관할 경찰서. 고소 내용: 사기죄(형법 제347조) - 임대인의 기망 및 편취 행위. 제출 서류: 고소장, 임대차계약서, 등기부등본, 임대인과의 연락 기록, 보증금 송금 내역. 참고: 형사사건과 민사소송은 별개로 병행 가능.',
        description: '전세사기 형사고소: 관할 경찰서에 사기죄로 고소. 고소장+계약서+등기부등본+연락기록 제출. 민사소송과 병행 가능.'
      },
      {
        number: '실무-07', title: '전세사기피해자 인정 신청 절차',
        content: '신청처: 국토교통부 전세사기 피해지원팀 또는 전세피해지원센터(1533-2020). 제출 서류: 신청서, 임대차계약서, 등기부등본, 주민등록등본, 확정일자 증명, 경매개시결정문(있는 경우), 피해사실 입증 서류. 처리 기간: 30일 이내. 결정 후 혜택: 경매 유예, 우선매수권, 공공임대, 금융지원, 긴급복지지원.',
        description: '전세사기피해자 인정 신청: 1533-2020으로 연락. 처리 30일. 결정 후 경매 유예, 우선매수권, 공공임대, 금융지원 등 혜택.'
      },
      {
        number: '실무-08', title: '소액임차인 최우선변제 기준 (2024년)',
        content: '서울: 보증금 1억6,500만원 이하 → 최우선변제 5,500만원. 수도권 과밀억제권역(서울 외)·세종·용인·화성·김포: 보증금 1억4,500만원 이하 → 4,800만원. 광역시(과밀억제권역 외)·안산·광주·파주·이천·평택: 보증금 8,500만원 이하 → 2,800만원. 그 외 지역: 보증금 7,500만원 이하 → 2,500만원. 조건: 경매 등기 전 전입신고+실거주 필요.',
        description: '2024년 최우선변제: 서울 5,500만원, 수도권 4,800만원, 광역시 2,800만원, 기타 2,500만원. 경매 등기 전 전입신고 필수.'
      },
      {
        number: '실무-09', title: '확정일자와 대항력의 차이',
        content: '대항력: 전입신고+실제거주(인도) → 다음 날 0시부터 제3자에게 임차권 주장 가능. 우선변제권: 대항력+확정일자 → 경매 배당에서 후순위 채권자보다 우선 변제. 최우선변제권(소액임차인): 대항력만 있으면 경매 등기 전에 갖추면 됨 → 최우선으로 일정액 변제. 중요: 계약 당일 전입신고+확정일자를 동시에 받아야 함.',
        description: '대항력=전입신고+실거주, 우선변제권=대항력+확정일자. 계약 당일 전입신고와 확정일자를 반드시 동시에 받으세요!'
      },
      {
        number: '실무-10', title: '주요 지원 기관 연락처',
        content: '대한법률구조공단: 132 (무료 법률 상담, 소송 지원). 전세사기피해지원센터: 1533-2020. HUG 주택도시보증공사: 1566-9009 (전세보증보험). LH 한국토지주택공사: 1600-1004 (공공임대). 법원 경매: sers.scourt.go.kr. 인터넷 등기소: 등기부등본 발급 (iros.go.kr). 정부24: 주민등록등본 발급. 경찰 신고: 112.',
        description: '법률구조공단(132), 전세사기센터(1533-2020), HUG(1566-9009), LH(1600-1004), 경찰(112). 법원경매정보: sers.scourt.go.kr'
      }
    ]
  }
]

// ============================================================
// 메인 실행
// ============================================================
async function main() {
  console.log('=== 완전한 법령 데이터 구축 시작 ===\n')

  const lawsPath = join(backendData, 'laws/jeonse-fraud-laws.json')
  const laws = JSON.parse(readFileSync(lawsPath, 'utf-8'))

  // 1. 전세사기특별법 교체 (크롤 데이터 대신 정확한 내용으로)
  console.log('[1] 전세사기특별법 정확한 내용으로 교체...')
  const specialIdx = laws.laws.findIndex(l => l.id === 'jeonse-fraud-special-act')
  if (specialIdx >= 0) {
    laws.laws[specialIdx].articles = SPECIAL_ACT_ARTICLES
    laws.laws[specialIdx].crawledAt = new Date().toISOString()
    console.log(`    → ${SPECIAL_ACT_ARTICLES.length}개 조문 (핵심 조문 완전 포함)`)
  }

  // 2. 추가 법령 삽입
  console.log('\n[2] 추가 법령 삽입...')
  for (const newLaw of ADDITIONAL_LAWS) {
    const existing = laws.laws.findIndex(l => l.id === newLaw.id)
    if (existing >= 0) {
      laws.laws[existing] = { ...newLaw, lastUpdated: new Date().toISOString() }
      console.log(`    업데이트: ${newLaw.name}`)
    } else {
      laws.laws.push({ ...newLaw, lastUpdated: new Date().toISOString() })
      console.log(`    추가: ${newLaw.name}`)
    }
  }

  laws.lastUpdated = new Date().toISOString()
  writeFileSync(lawsPath, JSON.stringify(laws, null, 2), 'utf-8')

  // 최종 통계
  console.log('\n=== 최종 법령 데이터 현황 ===')
  const updated = JSON.parse(readFileSync(lawsPath, 'utf-8'))
  let totalArticles = 0
  for (const l of updated.laws) {
    const count = l.articles?.length || 0
    totalArticles += count
    console.log(`  [${count > 0 ? 'O' : 'X'}] ${l.name}: ${count}개 조문`)
  }
  console.log(`\n  총 조문/항목: ${totalArticles}개`)
  console.log(`  총 법령 수: ${updated.laws.length}개`)
}

main().catch(console.error)
